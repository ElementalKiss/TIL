# 05 TCP 기반 서버와 클라이언트2

## 05-1 에코 클라이언트. TCP 기반으로 완벽 구현

* TCP는 연결 지향 프로토콜로 전송되는 데이터의 경계가 없다.
* ABCD라는 문자열을 전송할지라도 그 데이터가 하나의 패킷으로 구성되어 전해진다는 보장이 없다.
* 기존에 만들었던 에코 클라이언트는 read, write를 한번씩만 호출.

```cpp
    for (recv_len = 0; recv_len < str_len; ) { /* data received.. */
        recv_num = read(...);
        ...
        recv += recv_num;
    }
```

* 계속해서 read 함수를 호출해서 수신한 데이터를 배열에 저장해나감. 이를 통해 정확히 전송한 바이트 크기만큼 데이터를 수신할 수 있다.
* 이러한 방법도 수신해야 할 데이터의 크기를 미리 알고 있는 경우만 가능.

## 05-2 Boundary가 없는 TCP 기반의 데이터 전송

* TCP 기반 송수신하는데 입출력 함수의 호출 횟수는 중요하지 않다.
* read/write 몇 개를 보내던 아무튼 경계가 없다.